<br>
<script>
function subOpen1(id){
jQuery(".tag1menu").hide();
jQuery(".tag2menu").hide();
jQuery(".sub"+id+"").show();
jQuery(".suba0").removeClass("change");
jQuery("#sid"+id+"").toggleClass("change");
}
function subOpen2(id){
jQuery(".tag2menu").hide();
jQuery(".sub"+id+"").show();
jQuery(".suba1").removeClass("change");
jQuery("#sid"+id+"").toggleClass("change");
}
</script>
<style>
a.suba0{background-color:#ffffff;font-size:130%;}
a.suba1{background-color:#efefef;font-size:110;}
a.suba2{background-color:#e1e1e1;}
a.change{font-weight:bold;text-decoration:none;}
</style>
<?if($tag0_list!=NULL){
foreach($tag0_list as $key0=>$val0){?>
<div class="tag0menu"><a id="sid<?=$val0['id']?>" href="#/shop/<?=$val0['seolink']?>" onclick="subOpen1(<?=$val0['id']?>)" class="mainlevel suba0"><?=$val0['caption']?></a></div>

<?if($tag1_list!=NULL){
foreach($tag1_list as $key1=>$val1){if($val1["hit"]==$key0){?>
<div class="tag1menu sub<?=$val0['id']?>" style="display:none;"><a id="sid<?=$val1['id']?>" href="#/shop/<?=$val0['seolink']?>/<?=$val1['seolink']?>" onclick="subOpen2(<?=$val1['id']?>)" class="mainlevel suba1"><?=$val1['caption']?></a></div>

<?
$connect_tag=explode(";",substr($val1['connect'], 1, -1));$i2=1;
if($connect_tag[0]!=''){foreach($connect_tag as $key2=>$child_id){
$val2=$tag2_list[$child_id];
?>
<?if($val2["show"] == "1"){?>
<div class="tag2menu sub<?=$val1['id']?>" style="display:none;"><a href="/shop/<?=$val0['seolink']?>/<?=$val1['seolink']?>/<?=$val2['seolink']?>" class="mainlevel suba2"><?=$val2['caption']?></a></div>

<?}?>
<?}}?>

<?}}}?>

<?}}?>

